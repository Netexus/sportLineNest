<div class="products-container">
    <header class="header">
        <h1>üèÉ‚Äç‚ôÇÔ∏è Riwi SportsLine</h1>
        <div class="user-info" *ngIf="authService.currentUser$ | async as user">
            <span>{{ user.email }}</span>
            <button (click)="logout()" class="logout-btn">Logout</button>
        </div>
    </header>

    <div class="content">
        <h2>Product Catalog</h2>

        <div *ngIf="loading" class="loading">
            <div class="spinner"></div>
            <p>Loading products...</p>
        </div>

        <div *ngIf="error" class="error-banner">
            {{ error }}
        </div>

        <div *ngIf="!loading && !error" class="products-grid">
            <div *ngFor="let product of products" class="product-card">
                <div class="product-header">
                    <h3>{{ product.name }}</h3>
                    <span class="price">${{ product.price }}</span>
                </div>
                <p class="description">{{ product.description || 'No description available' }}</p>
                <div class="product-footer">
                    <span class="stock" [class.low-stock]="product.stock < 10">
                        Stock: {{ product.stock }}
                    </span>
                    <button class="add-btn" [disabled]="product.stock === 0">
                        {{ product.stock === 0 ? 'Out of Stock' : 'Add to Cart' }}
                    </button>
                </div>
            </div>
        </div>

        <div *ngIf="!loading && !error && products.length === 0" class="empty-state">
            <p>No products available</p>
        </div>
    </div>
</div>